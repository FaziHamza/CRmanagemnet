<p class="header">Create Request</p>
<hr>
<div class="mb-3">

    <label class="mb-1"><b>Request Type</b></label>
    <select class="form-select" [(ngModel)]="statusType" aria-label="Default select example">
        <option *ngIf="!statusType" selected value="">Select</option>
        <option class="select-option" [value]="data.name[0].lookupName" *ngFor="let data of statusList">{{
            data.name[0].lookupName }}
        </option>
    </select>
</div>
<div *ngIf="statusType == 'Reschedule Request'">
    <div class="row">
        <div class="col-lg-6">
            <div class="mb-3">
                <label class="mb-1"><b>New No. of Installment</b></label>
                <div class="input-search1">
                <input type="text" class="form-control" placeholder="New No. of Installment"
                    [(ngModel)]="noofInstallment" numbersOnly>
                    <!-- <span class="close">JOD</span> -->
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="mb-3">
                <label class="mb-1"><b>New First Due Date</b></label>
                <div class="input-search1 form-control3">
                    <nz-date-picker [nzDisabledDate]="disabledDate" [(ngModel)]="firstDueDate"></nz-date-picker>
                </div>
            </div>
            <!-- <input type="date" class="form-control" placeholder="New First Due Date"> -->
            <!-- <span class="input-group-text" id="basic-addon1">@</span> -->
        </div>

        <div class="col-lg-6">
            <div class="mb-3">

                <label class="mb-1"><b>Interest Percentage</b></label>
                <div class="input-search1">
                    <input type="text" class="form-control" (input)="interestPercentage()" [(ngModel)]="interestPer"
                        placeholder="Search by order number"  appPositiveDecimal>
                    <svg xmlns="http://www.w3.org/2000/svg" class="close" width="24" height="24" viewBox="0 0 24 24">
                        <path fill="#78778b"
                            d="m18.501 3.5l-15 15.001l1.996 1.996l15-15zM7.002 5a2 2 0 1 0-.004 4a2 2 0 0 0 .004-4zm10 10a2 2 0 1 0-.004 4a2 2 0 0 0 .004-4z" />
                    </svg>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="mb-3">

                <label class="mb-1"><b>Interest Value (JOD)</b></label>
                <div class="input-search1">
                    <input type="text" class="form-control " (input)="interestValue()" [(ngModel)]="interestVal"
                        placeholder="Search by order number" appPositiveDecimal>
                        <span class="close">JOD</span>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
        </div>
        <div class="col-lg-6 mt-4 text-end">
            <button class="btn o-btn hvr-bounce-to-right" [disabled]="disableScheduleRequest()" (click)="getPNOrderRemainingAmountforRescheduling()">View
                Result </button>
        </div>

    </div>
    <hr>
    <div *ngIf="remainingAmount">
        <p><b>New Remaining Amount </b></p>
        <p>{{remainingAmount}} JOD</p>
    </div>
    <div class="bottom-buttons ng-star-inserted">
        <button type="button" class="btn btn-white hvr-bounce-to-right2" (click)="cancelModal()">Cancel</button>
        <button class="btn o-btn hvr-bounce-to-right" [disabled]="disableScheduleRequest()"  (click)="saveRequestApproval()">Request Approval
        </button>
    </div>
</div>
<form [formGroup]="customerDetail">
    <div *ngIf="statusType == 'Transfer Request'">
        <p class="mt-3"><b>New Customer Information </b></p>
        <div class="row">
            <div class="col-lg-8">
                <div class="row">
                    <div class="img-box col-lg-2 mt-1">
                        <nz-avatar [nzText]="commonService.getInitialOfName(customerAvatarName)"></nz-avatar>
                    </div>
                    <div class="col-lg-10">
                        <label class="mb-1"><b>Name<span>*</span></b></label>
                        <div class="input-search">
                            <input type="text" placeholder="Type Customer Name.." class="form-control"
                                id="create_order_full_name" nz-input [ngModelOptions]="{ standalone: true }"
                                [(ngModel)]="customerId" (ngModelChange)="onChangeName($event)"
                                [nzAutocomplete]="customerName" />
                            <svg xmlns="http://www.w3.org/2000/svg" class="search" width="24" height="24"
                                viewBox="0 0 24 24">
                                <path fill="currentColor" fill-rule="evenodd"
                                    d="M11.5 2.75a8.75 8.75 0 1 0 0 17.5a8.75 8.75 0 0 0 0-17.5ZM1.25 11.5c0-5.66 4.59-10.25 10.25-10.25S21.75 5.84 21.75 11.5c0 2.56-.939 4.902-2.491 6.698l3.271 3.272a.75.75 0 1 1-1.06 1.06l-3.272-3.271A10.21 10.21 0 0 1 11.5 21.75c-5.66 0-10.25-4.59-10.25-10.25Z"
                                    clip-rule="evenodd" />
                            </svg>
                        </div>
                        <nz-autocomplete #customerName>
                            <nz-auto-option *ngFor="let option of customerList" [nzValue]="option.customerId"
                                [nzLabel]="option.customerName">
                                {{ option.customerName }}
                            </nz-auto-option>
                        </nz-autocomplete>
                        <!-- <input type="text" class="form-control"> -->
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-6">
                        <label class="mb-1"><b>Customer Account</b></label>
                        <input type="text" class="form-control" formControlName="customerAccount">
                    </div>
                    <div class="col-lg-6">
                        <label class="mb-1"><b>ID</b></label>
                        <input type="text" class="form-control" formControlName="customerId">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-6">
                        <label class="mb-1"><b>Phone </b></label>
                        <input type="text" class="form-control" formControlName="customerPhone">
                    </div>
                    <div class="col-lg-6">
                        <label class="mb-1"><b>Address</b></label>
                        <input type="text" class="form-control" formControlName="customerAddress">
                    </div>
                </div>
            </div>
            <div class="col-lg-4 mb-3" *ngIf="!customerFileName">
                <label class="mb-1"><b>ID Document <span>*</span></b></label>
                <nz-upload nzType="drag" [nzMultiple]="true" [nzDisabled]="true">
                    <img src="../../../../assets/images/uploader.png" alt="">
                    <p><b>Drag & Drop files</b></p>
                    <p> Supported formates; JPEG, PNG, PDF </p>

                </nz-upload>
            </div>
            <div class="col-lg-8 d-grid mt-1" *ngIf="customerFileName">
              <button type="button" class="pdf-view-btn" >
                <div (click)="pdfView(customerFileName)">
                  {{"Promissory_Notes.document_name_PDF"
                  |
                  translate}}
                </div>
                <div>
                  <a (click)="pdfView(customerFileName)" class="eye">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M12 9a3 3 0 0 1 3 3a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5c-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0a9.821 9.821 0 0 0-17.64 0Z" />
                    </svg>
                  </a>
                  <a (click)="downloadFile(customerFileName)" class="download">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M12 15.575q-.2 0-.375-.062T11.3 15.3l-3.6-3.6q-.275-.275-.275-.7t.275-.7q.275-.275.713-.287t.712.262L11 12.15V5q0-.425.288-.713T12 4q.425 0 .713.288T13 5v7.15l1.875-1.875q.275-.275.713-.263t.712.288q.275.275.275.7t-.275.7l-3.6 3.6q-.15.15-.325.213t-.375.062ZM6 20q-.825 0-1.413-.588T4 18v-2q0-.425.288-.713T5 15q.425 0 .713.288T6 16v2h12v-2q0-.425.288-.713T19 15q.425 0 .713.288T20 16v2q0 .825-.588 1.413T18 20H6Z" />
                    </svg>
                  </a>
                </div>
              </button>
              <span class="head-detail" *ngIf="!customerFileName">---</span>
            </div>
        </div> <br>
        <hr>
        <p><b>New Guarantor Information </b></p>
        <div class="row">
            <div class="col-lg-8">
                <div class="row">
                    <div class="img-box col-lg-2 mt-1">
                        <nz-avatar [nzText]="commonService.getInitialOfName(guarantorAvatarName)"></nz-avatar>
                    </div>
                    <div class="col-lg-10">
                        <label class="mb-1"><b>Name<span>*</span></b></label>
                        <div class="input-search">
                            <input type="text" placeholder="Type Customer Name.." class="form-control"
                                id="create_order_full_name" nz-input [ngModelOptions]="{ standalone: true }"
                                [(ngModel)]="gurantorId" (ngModelChange)="onChangeNameGurantor($event)"
                                [nzAutocomplete]="gurantorName" />
                            <svg xmlns="http://www.w3.org/2000/svg" class="search" width="24" height="24"
                                viewBox="0 0 24 24">
                                <path fill="currentColor" fill-rule="evenodd"
                                    d="M11.5 2.75a8.75 8.75 0 1 0 0 17.5a8.75 8.75 0 0 0 0-17.5ZM1.25 11.5c0-5.66 4.59-10.25 10.25-10.25S21.75 5.84 21.75 11.5c0 2.56-.939 4.902-2.491 6.698l3.271 3.272a.75.75 0 1 1-1.06 1.06l-3.272-3.271A10.21 10.21 0 0 1 11.5 21.75c-5.66 0-10.25-4.59-10.25-10.25Z"
                                    clip-rule="evenodd" />
                            </svg>
                        </div>
                        <nz-autocomplete #gurantorName>
                            <nz-auto-option *ngFor="let option of gurantorList" [nzValue]="option.customerId"
                                [nzLabel]="option.customerName">
                                {{ option.customerName }}
                            </nz-auto-option>
                        </nz-autocomplete>
                        <!-- <input type="text" class="form-control"> -->
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-6">
                        <label class="mb-1"><b>Customer Account</b></label>
                        <input type="text" class="form-control" formControlName="guarantorAccount">
                    </div>
                    <div class="col-lg-6">
                        <label class="mb-1"><b>ID</b></label>
                        <input type="text" class="form-control" formControlName="guarantorId">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-6">
                        <label class="mb-1"><b>Phone </b></label>
                        <input type="text" class="form-control" formControlName="guarantorPhone">
                    </div>
                    <div class="col-lg-6">
                        <label class="mb-1"><b>Address</b></label>
                        <input type="text" class="form-control" formControlName="guarantorAddress">
                    </div>
                </div>
            </div>
            <div class="col-lg-4 mb-3" *ngIf="!guarantorFileName">
                <label class="mb-1"><b>ID Document <span>*</span></b></label>
                <nz-upload nzType="drag" [nzMultiple]="true" [nzDisabled]="true">

                    <img src="../../../../assets/images/uploader.png" alt="">
                    <p><b>Drag & Drop files</b></p>
                    <p> Supported formates; JPEG, PNG, PDF </p>

                </nz-upload>
            </div>
            <div class="col-lg-10 d-grid mt-1" *ngIf="guarantorFileName">
              <button type="button" class="pdf-view-btn" >
                <div (click)="pdfView(guarantorFileName)">
                  {{"Promissory_Notes.document_name_PDF"
                  |
                  translate}}
                </div>
                <div>
                  <a (click)="pdfView(guarantorFileName)" class="eye">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M12 9a3 3 0 0 1 3 3a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3m0-4.5c5 0 9.27 3.11 11 7.5c-1.73 4.39-6 7.5-11 7.5S2.73 16.39 1 12c1.73-4.39 6-7.5 11-7.5M3.18 12a9.821 9.821 0 0 0 17.64 0a9.821 9.821 0 0 0-17.64 0Z" />
                    </svg>
                  </a>
                  <a (click)="downloadFile(guarantorFileName)" class="download">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M12 15.575q-.2 0-.375-.062T11.3 15.3l-3.6-3.6q-.275-.275-.275-.7t.275-.7q.275-.275.713-.287t.712.262L11 12.15V5q0-.425.288-.713T12 4q.425 0 .713.288T13 5v7.15l1.875-1.875q.275-.275.713-.263t.712.288q.275.275.275.7t-.275.7l-3.6 3.6q-.15.15-.325.213t-.375.062ZM6 20q-.825 0-1.413-.588T4 18v-2q0-.425.288-.713T5 15q.425 0 .713.288T6 16v2h12v-2q0-.425.288-.713T19 15q.425 0 .713.288T20 16v2q0 .825-.588 1.413T18 20H6Z" />
                    </svg>
                  </a>
                </div>
              </button>
              <span class="head-detail" *ngIf="!guarantorFileName">---</span>
            </div>

        </div>

        <div class="bottom-buttons">
            <button type="button" class="btn btn-white hvr-bounce-to-right2" (click)="cancelModal()">Cancel</button>
            <button class="btn o-btn hvr-bounce-to-right" [disabled]="!(customerId && gurantorId)"
                (click)="makeTransferRequest()">Request Approval </button>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12 text-end mt-4">
            <button type="button" *ngIf="!statusType" class="btn btn-white hvr-bounce-to-right2"
                (click)="cancelModal()">Cancel</button>
        </div>
    </div>
    <!-- <div class="row">
        <div class="col-lg-12 text-danger" *ngFor="let item of errorsList">
            {{item?.ErrorMessageEn}}
        </div>
    </div> -->
</form>
